{% extends "base.html" %}
{% block content %}

<div class="bg-white p-8 rounded-md shadow max-w-3xl mx-auto">
    <h2 class="text-2xl font-bold text-indigo-700 mb-4">Your Screening Result</h2>

    <div class="space-y-2 text-gray-700 text-base">
        <p>Score: <span class="font-semibold text-indigo-600">{{ resp.score }}</span> / 27</p>
        <p>Interpretation: <span class="font-semibold text-indigo-600">{{ resp.interpretation }}</span></p>
    </div>

    <h3 class="mt-6 text-lg font-semibold text-gray-800">Your Answers</h3>
    <ol class="list-decimal ml-6 mt-3 space-y-2 text-sm text-gray-700">
        {% for ans in resp.answers %}
        <li>{{ questions[loop.index0] }} â€” <span class="font-medium text-indigo-600">{{ options[ans].label }}</span>
        </li>
        {% endfor %}
    </ol>

    {% if resp.flagged_suicidal_thoughts %}
    <div class="mt-6 p-4 rounded-lg bg-red-100 border border-red-300 text-red-800 text-sm">
        <strong>Important:</strong> You indicated some thoughts of self-harm or that you might be better off dead.
        If you are in immediate danger, please call your local emergency number right now.
        Consider contacting a crisis line or a mental health professional immediately.
    </div>
    {% endif %}

    <div class="mt-6">
        <p class="text-sm text-slate-600 font-medium mb-2">Interpretation Guide (PHQ-9):</p>
        <ul class="list-disc ml-6 text-sm text-slate-600 space-y-1">
            <li>0-4: Minimal or none</li>
            <li>5-9: Mild</li>
            <li>10-14: Moderate</li>
            <li>15-19: Moderately severe</li>
            <li>20-27: Severe</li>
        </ul>
    </div>

    <div class="mt-6 flex gap-4 justify-end">
        <a href="{{ url_for('main.qna') }}"
            class="px-5 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition">Retake</a>
        <a href="{{ url_for('main.index') }}"
            class="px-5 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition">Home</a>
    </div>
</div>

{% endblock %}